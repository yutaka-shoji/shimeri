{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"shimeri","text":"<p>A Python package for calculating psychrometric properties of moist air and plotting psychrometric charts based on plotly.</p> <p>shimeri means \"moisture\" or \"humidity\" in Japanese.</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install shimeri\n</code></pre>"},{"location":"#example","title":"Example","text":"<p>Usage example: example.py</p> <p>Example Result: </p>"},{"location":"#web-app","title":"Web App","text":"<p>shimeri on web is available at shimeri-web.vercel.app.</p>"},{"location":"license/","title":"License","text":"<p>MIT License</p> <p>Copyright (c) 2024 Shoji, Yutaka</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"api/psychrometricchart/","title":"psychrometricchart","text":""},{"location":"api/psychrometricchart/#shimeri.psychrometricchart.PsychrometricChart","title":"<code>PsychrometricChart</code>","text":"<p>               Bases: <code>Figure</code></p> <p>A class to create and manipulate a psychrometric chart.</p> <p>The PsychrometricChart class extends the go.Figure class from the plotly.graph_objects module.</p> Source code in <code>shimeri/psychrometricchart.py</code> <pre><code>class PsychrometricChart(go.Figure):\n    \"\"\"\n    A class to create and manipulate a psychrometric chart.\n\n    The PsychrometricChart class extends the go.Figure class from the plotly.graph_objects module.\n    \"\"\"\n\n    def __init__(self, pressure: float = 101.325):\n        \"\"\"\n        Initialize the PsychrometricChart class.\n\n        Args:\n            pressure: Atmospheric pressure in kPa.\n        \"\"\"\n        super().__init__()\n\n        self._pressure = pressure\n        self._pc = PsychrometricCalculator(pressure)\n        self._slope = self._calc_skew_slope()\n\n        bg_lines_layout = {\n            \"mode\": \"lines\",\n            \"line\": {\"color\": \"#E0E0E0\", \"width\": 1},\n            \"name\": \"\",\n            \"showlegend\": False,\n            \"hoverinfo\": \"skip\",\n        }\n\n        # Draw iso RH lines\n        _ = [\n            self.draw_iso_rh_line(rh, **bg_lines_layout)\n            for rh in np.arange(0.0, 101.0, 10.0)\n        ]\n        # Draw iso DB lines\n        _ = [\n            self.draw_iso_db_line(db, **bg_lines_layout)\n            for db in np.arange(-10.0, 91.0, 10.0)\n        ]\n        # Draw iso EN lines\n        _ = [\n            self.draw_iso_en_line(en, **bg_lines_layout)\n            for en in np.arange(0.0, 351.0, 10.0)\n        ]\n\n        # Add iso RH lines annotations\n        self._add_iso_rh_annotation()\n        # Add iso EN lines annotations\n        self._add_iso_en_annotation()\n\n        # Set xtick labels as the dry-bulb temperature values\n        self._xtick_label_to_db()\n\n        self.update_layout(\n            template=\"plotly_white\",\n        )\n        self.update_xaxes(\n            title=\"Dry-Bulb Temperature (\\u00b0C)\",\n            range=self._db_to_en_at_hr0([-10.0 - 0.5, 50.0]),\n            linecolor=\"black\",\n            linewidth=1.0,\n            mirror=True,\n            showgrid=False,\n            zeroline=False,\n        )\n        self.update_yaxes(\n            title=\"Humidity Ratio (g&lt;sub&gt;water&lt;/sub&gt;/kg&lt;sub&gt;DA&lt;/sub&gt;)\",\n            range=[0, 30],\n            linecolor=\"black\",\n            linewidth=1.0,\n            mirror=True,\n            showgrid=True,\n            zeroline=False,\n            minor=dict(showgrid=True),\n        )\n\n    def add_points(\n        self,\n        en: Union[ArrayLike, float],\n        hr: Union[ArrayLike, float],\n        **kwargs,\n    ):\n        \"\"\"\n        Add points to the psychrometric chart.\n\n        Args:\n            en: Moist air enthalpy (kJ/kg). Can be a numpy array.\n            hr: Humidity Ratio (g/kg). Can be a numpy array.\n            **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n        \"\"\"\n        db, wb, rh, hr, en = self._pc.get_all(en=en, hr=hr)\n        customdata = np.vstack([db, wb, rh, hr, en]).T\n        x, y = self._skew_transform(np.atleast_1d(en), np.atleast_1d(hr))\n\n        # if \"mode\" is not specified, set it to \"markers\"\n        if \"mode\" not in kwargs:\n            kwargs[\"mode\"] = \"markers\"\n\n        self.add_trace(\n            go.Scatter(\n                x=x,\n                y=y,\n                customdata=customdata,\n                hovertemplate=(\n                    \"DB: %{customdata[0]:.1f}\\u00b0C&lt;br&gt;\"\n                    + \"WB: %{customdata[1]:.1f}\\u00b0C&lt;br&gt;\"\n                    + \"RH: %{customdata[2]:.1f}%&lt;br&gt;\"\n                    + \"HR: %{customdata[3]:.1f}g/kg&lt;br&gt;\"\n                    + \"EN: %{customdata[4]:.1f}kJ/kg\"\n                ),\n                **kwargs,\n            )\n        )\n\n    def draw_iso_rh_line(\n        self,\n        rh: float,\n        db_range: Union[list[float], NDArray[np.float64]] = [-10.0, 90.0],\n        **kwargs,\n    ):\n        \"\"\"\n        Draw a line of constant relative humidity on the psychrometric chart.\n\n        Args:\n            rh: Relative humidity (%) as a float.\n            db_range: Range of dry bulb temperatures (\\u00b0C) for which to draw the line.\n            **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n        \"\"\"\n        dbs = np.linspace(db_range[0], db_range[-1], 100)\n        hrs = self._pc.get_hr_from_db_rh(dbs, rh)\n        ens = self._pc.get_en_from_db_hr(dbs, hrs)\n        x, y = self._skew_transform(ens, hrs)\n        if \"name\" not in kwargs:\n            kwargs[\"name\"] = f\"RH={rh:.1f}%\"\n        self._draw_line_from_xy(x, y, **kwargs)\n\n    def draw_iso_db_line(\n        self,\n        db: float,\n        rh_range: Union[list[float], NDArray[np.float64]] = [0, 100],\n        **kwargs,\n    ):\n        \"\"\"\n        Draw a line of constant dry-bulb temperature on the psychrometric chart.\n\n        Args:\n            db: Dry bulb temperature (\\u00b0C) as a float.\n            rh_range: Range of relative humidities (%) for which to draw the line.\n            **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n        \"\"\"\n        rhs = np.linspace(rh_range[0], rh_range[-1], 100)\n        hrs = self._pc.get_hr_from_db_rh(db, rhs)\n        ens = self._pc.get_en_from_db_hr(db, hrs)\n        x, y = self._skew_transform(ens, hrs)\n        if \"name\" not in kwargs:\n            kwargs[\"name\"] = f\"DB={db:.1f}\\u00b0C\"\n        self._draw_line_from_xy(x, y, **kwargs)\n\n    def draw_iso_hr_line(\n        self,\n        hr: float,\n        db_range: Union[list[float], NDArray[np.float64]] = [-10, 70],\n        **kwargs,\n    ):\n        \"\"\"\n        Draw a line of constant humidity ratio on the psychrometric chart.\n\n        Args:\n            hr: Humidity ratio (g/kg) as a float.\n            db_range: Range of dry bulb temperatures (\\u00b0C) for which to draw the line.\n            **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n        \"\"\"\n        dbs = np.array(db_range)\n        hrs = np.ones_like(dbs) * hr\n        ens = self._pc.get_en_from_db_hr(dbs, hrs)\n        x, y = self._skew_transform(ens, hrs)\n        if \"name\" not in kwargs:\n            kwargs[\"name\"] = f\"HR={hr:.1f}g/kg\"\n        self._draw_line_from_xy(x, y, **kwargs)\n\n    def draw_iso_en_line(\n        self,\n        en: float,\n        rh_range: Union[list[float], NDArray[np.float64]] = [0, 100],\n        **kwargs,\n    ):\n        \"\"\"\n        Draw a line of constant specific enthalpy on the psychrometric chart.\n\n        Args:\n            en: Specific enthalpy (kJ/kg) as a float.\n            rh_range: Range of relative humidities (%) for which to draw the line.\n            **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n        \"\"\"\n        rhs = np.array([rh_range[0], rh_range[-1]], dtype=np.float64)\n        hrs = self._pc.get_hr_from_rh_en(rhs, en)\n        ens = np.ones_like(hrs) * en\n        x, y = self._skew_transform(ens, hrs)\n        if \"name\" not in kwargs:\n            kwargs[\"name\"] = f\"EN={en:.1f}kJ/kg\"\n        self._draw_line_from_xy(x, y, **kwargs)\n\n    def _add_iso_rh_annotation(self):\n        \"\"\"Add annotations to the iso RH lines.\"\"\"\n        db = 48.0\n        rhs = np.arange(10.0, 101.0, 10.0)\n        hrs = self._pc.get_hr_from_db_rh(db, rhs)\n        ens = self._pc.get_en_from_db_hr(db, hrs)\n        x, y = self._skew_transform(ens, hrs)\n        texts = np.array([f\"RH={rh:.1f}%\" for rh in rhs])\n        self._add_annotation_from_xy(x, y, texts)\n\n    def _add_iso_en_annotation(self):\n        \"\"\"Add annotations to the iso enthalpy lines.\"\"\"\n        ens = np.arange(0.0, 351.0, 20.0)\n        # calculate hr at rh=100%\n        rhs = np.ones_like(ens) * 100.0\n        hrs = self._pc.get_hr_from_rh_en(rhs, ens)\n        x, y = self._skew_transform(ens, hrs)\n        texts = np.array([f\"EN={en:.1f}kJ/kg&lt;sub&gt;DA&lt;/sub&gt;\" for en in ens])\n        self._add_annotation_from_xy(x, y, texts, textposition=\"top left\")\n\n    def _draw_line_from_xy(\n        self,\n        x: NDArray,\n        y: NDArray,\n        **kwargs,\n    ):\n        \"\"\"Draw a line from x and y.\"\"\"\n        if \"mode\" not in kwargs:\n            kwargs[\"mode\"] = \"lines\"\n        if \"hoverinfo\" not in kwargs:\n            kwargs[\"hoverinfo\"] = \"skip\"\n        self.add_trace(\n            go.Scatter(\n                x=x,\n                y=y,\n                **kwargs,\n            )\n        )\n\n    def add_histogram_2d_contour(\n        self,\n        en: Union[NDArray[np.float64], float],\n        hr: Union[NDArray[np.float64], float],\n        **kwargs,\n    ):\n        \"\"\"\n        Add a 2D histogram contour to the psychrometric chart.\n\n        Args:\n            en: Moist air enthalpy (kJ/kg).\n            hr: Humidity Ratio (g/kg).\n            **kwargs: Additional keyword arguments to be passed to plotly's go.Histogram2dContour.\n        \"\"\"\n        x, y = self._skew_transform(np.atleast_1d(en), np.atleast_1d(hr))\n\n        if \"hoverinfo\" not in kwargs:\n            kwargs[\"hoverinfo\"] = \"skip\"\n        self.add_trace(\n            go.Histogram2dContour(\n                x=x,\n                y=y,\n                **kwargs,\n            )\n        )\n\n        # add text annotation to the contour peak point\n        if \"name\" in kwargs:\n            name = kwargs[\"name\"]\n            x_gravity, y_gravity = np.mean(x), np.mean(y)\n            self.add_trace(\n                go.Scatter(\n                    x=[x_gravity],\n                    y=[y_gravity],\n                    mode=\"text\",\n                    text=[name],\n                    textfont=dict(size=8),\n                    showlegend=False,\n                    hoverinfo=\"skip\",\n                )\n            )\n\n    def _add_annotation_from_xy(\n        self, x: NDArray, y: NDArray, text: NDArray, textposition: str = \"top center\"\n    ):\n        \"\"\"Add annotations to the figure.\"\"\"\n        self.add_trace(\n            go.Scatter(\n                x=x,\n                y=y,\n                mode=\"text\",\n                text=text,\n                textposition=textposition,\n                textfont=dict(size=8, color=\"#BDBDBD\"),\n                showlegend=False,\n                hoverinfo=\"skip\",\n            )\n        )\n\n    def _xtick_label_to_db(self):\n        \"\"\"Set xtick labels as the dry-bulb temperature values.\"\"\"\n        dbs = np.arange(-10, 51, 10)\n        ens = self._db_to_en_at_hr0(dbs)\n        self.update_xaxes(tickvals=ens, ticktext=dbs)\n\n    def _skew_transform(\n        self, en: NDArray[np.float64], hr: NDArray[np.float64]\n    ) -&gt; tuple[NDArray[np.float64], NDArray[np.float64]]:\n        \"\"\"\n        Transform the moist air enthalpy and humidity ratio to skew coordinates.\n\n        Args:\n            en: Moist air enthalpy (kJ/kg).\n            hr: Humidity ratio (g/kg).\n\n        Returns:\n            A tuple of numpy arrays representing the x and y coordinates in the skew coordinate system.\n        \"\"\"\n        affine_skew_matrix = np.array(\n            [\n                [1.0, 1 / self._slope],\n                [0.0, 1.0],\n            ],\n        )\n        vector = np.array(\n            [\n                en,\n                hr,\n            ]\n        )\n        orthogonal_points = affine_skew_matrix @ vector\n        x = orthogonal_points[0, :]\n        y = orthogonal_points[1, :]\n        return x, y\n\n    def _calc_skew_slope(self) -&gt; float:\n        \"\"\"\n        Calculate the slope of the skew lines in the psychrometric chart.\n\n        This method uses fixed values for humidity ratio (30.0 g/kg) and dry bulb temperature (50.0 \\u00b0C)\n        to calculate the slope of the skew lines in the psychrometric chart.\n\n        Returns:\n            The slope of the skew lines as a float.\n        \"\"\"\n        db = 50.0\n        hrs = np.array([0.0, 30.0])\n        ens = self._pc.get_en_from_db_hr(db, hrs)\n        slope = (hrs[1] - hrs[0]) / (ens[0] - ens[1])\n        return slope\n\n    def _db_to_en_at_hr0(self, db: ArrayLike):\n        \"\"\"Calculate enthalpy at HR=0.\"\"\"\n        return self._pc.get_en_from_db_hr(db, 0.0)\n</code></pre>"},{"location":"api/psychrometricchart/#shimeri.psychrometricchart.PsychrometricChart.__init__","title":"<code>__init__(pressure=101.325)</code>","text":"<p>Initialize the PsychrometricChart class.</p> <p>Parameters:</p> Name Type Description Default <code>pressure</code> <code>float</code> <p>Atmospheric pressure in kPa.</p> <code>101.325</code> Source code in <code>shimeri/psychrometricchart.py</code> <pre><code>def __init__(self, pressure: float = 101.325):\n    \"\"\"\n    Initialize the PsychrometricChart class.\n\n    Args:\n        pressure: Atmospheric pressure in kPa.\n    \"\"\"\n    super().__init__()\n\n    self._pressure = pressure\n    self._pc = PsychrometricCalculator(pressure)\n    self._slope = self._calc_skew_slope()\n\n    bg_lines_layout = {\n        \"mode\": \"lines\",\n        \"line\": {\"color\": \"#E0E0E0\", \"width\": 1},\n        \"name\": \"\",\n        \"showlegend\": False,\n        \"hoverinfo\": \"skip\",\n    }\n\n    # Draw iso RH lines\n    _ = [\n        self.draw_iso_rh_line(rh, **bg_lines_layout)\n        for rh in np.arange(0.0, 101.0, 10.0)\n    ]\n    # Draw iso DB lines\n    _ = [\n        self.draw_iso_db_line(db, **bg_lines_layout)\n        for db in np.arange(-10.0, 91.0, 10.0)\n    ]\n    # Draw iso EN lines\n    _ = [\n        self.draw_iso_en_line(en, **bg_lines_layout)\n        for en in np.arange(0.0, 351.0, 10.0)\n    ]\n\n    # Add iso RH lines annotations\n    self._add_iso_rh_annotation()\n    # Add iso EN lines annotations\n    self._add_iso_en_annotation()\n\n    # Set xtick labels as the dry-bulb temperature values\n    self._xtick_label_to_db()\n\n    self.update_layout(\n        template=\"plotly_white\",\n    )\n    self.update_xaxes(\n        title=\"Dry-Bulb Temperature (\\u00b0C)\",\n        range=self._db_to_en_at_hr0([-10.0 - 0.5, 50.0]),\n        linecolor=\"black\",\n        linewidth=1.0,\n        mirror=True,\n        showgrid=False,\n        zeroline=False,\n    )\n    self.update_yaxes(\n        title=\"Humidity Ratio (g&lt;sub&gt;water&lt;/sub&gt;/kg&lt;sub&gt;DA&lt;/sub&gt;)\",\n        range=[0, 30],\n        linecolor=\"black\",\n        linewidth=1.0,\n        mirror=True,\n        showgrid=True,\n        zeroline=False,\n        minor=dict(showgrid=True),\n    )\n</code></pre>"},{"location":"api/psychrometricchart/#shimeri.psychrometricchart.PsychrometricChart.add_histogram_2d_contour","title":"<code>add_histogram_2d_contour(en, hr, **kwargs)</code>","text":"<p>Add a 2D histogram contour to the psychrometric chart.</p> <p>Parameters:</p> Name Type Description Default <code>en</code> <code>Union[NDArray[float64], float]</code> <p>Moist air enthalpy (kJ/kg).</p> required <code>hr</code> <code>Union[NDArray[float64], float]</code> <p>Humidity Ratio (g/kg).</p> required <code>**kwargs</code> <p>Additional keyword arguments to be passed to plotly's go.Histogram2dContour.</p> <code>{}</code> Source code in <code>shimeri/psychrometricchart.py</code> <pre><code>def add_histogram_2d_contour(\n    self,\n    en: Union[NDArray[np.float64], float],\n    hr: Union[NDArray[np.float64], float],\n    **kwargs,\n):\n    \"\"\"\n    Add a 2D histogram contour to the psychrometric chart.\n\n    Args:\n        en: Moist air enthalpy (kJ/kg).\n        hr: Humidity Ratio (g/kg).\n        **kwargs: Additional keyword arguments to be passed to plotly's go.Histogram2dContour.\n    \"\"\"\n    x, y = self._skew_transform(np.atleast_1d(en), np.atleast_1d(hr))\n\n    if \"hoverinfo\" not in kwargs:\n        kwargs[\"hoverinfo\"] = \"skip\"\n    self.add_trace(\n        go.Histogram2dContour(\n            x=x,\n            y=y,\n            **kwargs,\n        )\n    )\n\n    # add text annotation to the contour peak point\n    if \"name\" in kwargs:\n        name = kwargs[\"name\"]\n        x_gravity, y_gravity = np.mean(x), np.mean(y)\n        self.add_trace(\n            go.Scatter(\n                x=[x_gravity],\n                y=[y_gravity],\n                mode=\"text\",\n                text=[name],\n                textfont=dict(size=8),\n                showlegend=False,\n                hoverinfo=\"skip\",\n            )\n        )\n</code></pre>"},{"location":"api/psychrometricchart/#shimeri.psychrometricchart.PsychrometricChart.add_points","title":"<code>add_points(en, hr, **kwargs)</code>","text":"<p>Add points to the psychrometric chart.</p> <p>Parameters:</p> Name Type Description Default <code>en</code> <code>Union[ArrayLike, float]</code> <p>Moist air enthalpy (kJ/kg). Can be a numpy array.</p> required <code>hr</code> <code>Union[ArrayLike, float]</code> <p>Humidity Ratio (g/kg). Can be a numpy array.</p> required <code>**kwargs</code> <p>Additional keyword arguments to be passed to plotly's go.Scatter.</p> <code>{}</code> Source code in <code>shimeri/psychrometricchart.py</code> <pre><code>def add_points(\n    self,\n    en: Union[ArrayLike, float],\n    hr: Union[ArrayLike, float],\n    **kwargs,\n):\n    \"\"\"\n    Add points to the psychrometric chart.\n\n    Args:\n        en: Moist air enthalpy (kJ/kg). Can be a numpy array.\n        hr: Humidity Ratio (g/kg). Can be a numpy array.\n        **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n    \"\"\"\n    db, wb, rh, hr, en = self._pc.get_all(en=en, hr=hr)\n    customdata = np.vstack([db, wb, rh, hr, en]).T\n    x, y = self._skew_transform(np.atleast_1d(en), np.atleast_1d(hr))\n\n    # if \"mode\" is not specified, set it to \"markers\"\n    if \"mode\" not in kwargs:\n        kwargs[\"mode\"] = \"markers\"\n\n    self.add_trace(\n        go.Scatter(\n            x=x,\n            y=y,\n            customdata=customdata,\n            hovertemplate=(\n                \"DB: %{customdata[0]:.1f}\\u00b0C&lt;br&gt;\"\n                + \"WB: %{customdata[1]:.1f}\\u00b0C&lt;br&gt;\"\n                + \"RH: %{customdata[2]:.1f}%&lt;br&gt;\"\n                + \"HR: %{customdata[3]:.1f}g/kg&lt;br&gt;\"\n                + \"EN: %{customdata[4]:.1f}kJ/kg\"\n            ),\n            **kwargs,\n        )\n    )\n</code></pre>"},{"location":"api/psychrometricchart/#shimeri.psychrometricchart.PsychrometricChart.draw_iso_db_line","title":"<code>draw_iso_db_line(db, rh_range=[0, 100], **kwargs)</code>","text":"<p>Draw a line of constant dry-bulb temperature on the psychrometric chart.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>float</code> <p>Dry bulb temperature (\u00b0C) as a float.</p> required <code>rh_range</code> <code>Union[list[float], NDArray[float64]]</code> <p>Range of relative humidities (%) for which to draw the line.</p> <code>[0, 100]</code> <code>**kwargs</code> <p>Additional keyword arguments to be passed to plotly's go.Scatter.</p> <code>{}</code> Source code in <code>shimeri/psychrometricchart.py</code> <pre><code>def draw_iso_db_line(\n    self,\n    db: float,\n    rh_range: Union[list[float], NDArray[np.float64]] = [0, 100],\n    **kwargs,\n):\n    \"\"\"\n    Draw a line of constant dry-bulb temperature on the psychrometric chart.\n\n    Args:\n        db: Dry bulb temperature (\\u00b0C) as a float.\n        rh_range: Range of relative humidities (%) for which to draw the line.\n        **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n    \"\"\"\n    rhs = np.linspace(rh_range[0], rh_range[-1], 100)\n    hrs = self._pc.get_hr_from_db_rh(db, rhs)\n    ens = self._pc.get_en_from_db_hr(db, hrs)\n    x, y = self._skew_transform(ens, hrs)\n    if \"name\" not in kwargs:\n        kwargs[\"name\"] = f\"DB={db:.1f}\\u00b0C\"\n    self._draw_line_from_xy(x, y, **kwargs)\n</code></pre>"},{"location":"api/psychrometricchart/#shimeri.psychrometricchart.PsychrometricChart.draw_iso_en_line","title":"<code>draw_iso_en_line(en, rh_range=[0, 100], **kwargs)</code>","text":"<p>Draw a line of constant specific enthalpy on the psychrometric chart.</p> <p>Parameters:</p> Name Type Description Default <code>en</code> <code>float</code> <p>Specific enthalpy (kJ/kg) as a float.</p> required <code>rh_range</code> <code>Union[list[float], NDArray[float64]]</code> <p>Range of relative humidities (%) for which to draw the line.</p> <code>[0, 100]</code> <code>**kwargs</code> <p>Additional keyword arguments to be passed to plotly's go.Scatter.</p> <code>{}</code> Source code in <code>shimeri/psychrometricchart.py</code> <pre><code>def draw_iso_en_line(\n    self,\n    en: float,\n    rh_range: Union[list[float], NDArray[np.float64]] = [0, 100],\n    **kwargs,\n):\n    \"\"\"\n    Draw a line of constant specific enthalpy on the psychrometric chart.\n\n    Args:\n        en: Specific enthalpy (kJ/kg) as a float.\n        rh_range: Range of relative humidities (%) for which to draw the line.\n        **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n    \"\"\"\n    rhs = np.array([rh_range[0], rh_range[-1]], dtype=np.float64)\n    hrs = self._pc.get_hr_from_rh_en(rhs, en)\n    ens = np.ones_like(hrs) * en\n    x, y = self._skew_transform(ens, hrs)\n    if \"name\" not in kwargs:\n        kwargs[\"name\"] = f\"EN={en:.1f}kJ/kg\"\n    self._draw_line_from_xy(x, y, **kwargs)\n</code></pre>"},{"location":"api/psychrometricchart/#shimeri.psychrometricchart.PsychrometricChart.draw_iso_hr_line","title":"<code>draw_iso_hr_line(hr, db_range=[-10, 70], **kwargs)</code>","text":"<p>Draw a line of constant humidity ratio on the psychrometric chart.</p> <p>Parameters:</p> Name Type Description Default <code>hr</code> <code>float</code> <p>Humidity ratio (g/kg) as a float.</p> required <code>db_range</code> <code>Union[list[float], NDArray[float64]]</code> <p>Range of dry bulb temperatures (\u00b0C) for which to draw the line.</p> <code>[-10, 70]</code> <code>**kwargs</code> <p>Additional keyword arguments to be passed to plotly's go.Scatter.</p> <code>{}</code> Source code in <code>shimeri/psychrometricchart.py</code> <pre><code>def draw_iso_hr_line(\n    self,\n    hr: float,\n    db_range: Union[list[float], NDArray[np.float64]] = [-10, 70],\n    **kwargs,\n):\n    \"\"\"\n    Draw a line of constant humidity ratio on the psychrometric chart.\n\n    Args:\n        hr: Humidity ratio (g/kg) as a float.\n        db_range: Range of dry bulb temperatures (\\u00b0C) for which to draw the line.\n        **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n    \"\"\"\n    dbs = np.array(db_range)\n    hrs = np.ones_like(dbs) * hr\n    ens = self._pc.get_en_from_db_hr(dbs, hrs)\n    x, y = self._skew_transform(ens, hrs)\n    if \"name\" not in kwargs:\n        kwargs[\"name\"] = f\"HR={hr:.1f}g/kg\"\n    self._draw_line_from_xy(x, y, **kwargs)\n</code></pre>"},{"location":"api/psychrometricchart/#shimeri.psychrometricchart.PsychrometricChart.draw_iso_rh_line","title":"<code>draw_iso_rh_line(rh, db_range=[-10.0, 90.0], **kwargs)</code>","text":"<p>Draw a line of constant relative humidity on the psychrometric chart.</p> <p>Parameters:</p> Name Type Description Default <code>rh</code> <code>float</code> <p>Relative humidity (%) as a float.</p> required <code>db_range</code> <code>Union[list[float], NDArray[float64]]</code> <p>Range of dry bulb temperatures (\u00b0C) for which to draw the line.</p> <code>[-10.0, 90.0]</code> <code>**kwargs</code> <p>Additional keyword arguments to be passed to plotly's go.Scatter.</p> <code>{}</code> Source code in <code>shimeri/psychrometricchart.py</code> <pre><code>def draw_iso_rh_line(\n    self,\n    rh: float,\n    db_range: Union[list[float], NDArray[np.float64]] = [-10.0, 90.0],\n    **kwargs,\n):\n    \"\"\"\n    Draw a line of constant relative humidity on the psychrometric chart.\n\n    Args:\n        rh: Relative humidity (%) as a float.\n        db_range: Range of dry bulb temperatures (\\u00b0C) for which to draw the line.\n        **kwargs: Additional keyword arguments to be passed to plotly's go.Scatter.\n    \"\"\"\n    dbs = np.linspace(db_range[0], db_range[-1], 100)\n    hrs = self._pc.get_hr_from_db_rh(dbs, rh)\n    ens = self._pc.get_en_from_db_hr(dbs, hrs)\n    x, y = self._skew_transform(ens, hrs)\n    if \"name\" not in kwargs:\n        kwargs[\"name\"] = f\"RH={rh:.1f}%\"\n    self._draw_line_from_xy(x, y, **kwargs)\n</code></pre>"},{"location":"api/psychrometrics/","title":"psychrometrics","text":""},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator","title":"<code>PsychrometricCalculator</code>","text":"<p>Class to calculate psychrometric variables using CoolProp.</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>class PsychrometricCalculator:\n    \"\"\"Class to calculate psychrometric variables using CoolProp.\"\"\"\n\n    def __init__(self, pressure: float = 101.325):\n        \"\"\"Initialize the Psychrometrics class.\n\n        Args:\n            pressure: Atmospheric pressure (kPa)\n        \"\"\"\n        self.pressure = pressure\n        self._pressure_pa = pressure * 1000  # Convert to Pa for CoolProp\n\n    def get_all(\n        self,\n        db: ArrayLike = np.nan,\n        wb: ArrayLike = np.nan,\n        rh: ArrayLike = np.nan,\n        hr: ArrayLike = np.nan,\n        en: ArrayLike = np.nan,\n    ) -&gt; tuple[\n        Union[NDArray[np.float64], float],\n        Union[NDArray[np.float64], float],\n        Union[NDArray[np.float64], float],\n        Union[NDArray[np.float64], float],\n        Union[NDArray[np.float64], float],\n    ]:\n        \"\"\"\n        Calculate all psychrometric variables given any two of them.\n\n        This function takes in any two of the five psychrometric variables (dry bulb temperature, wet bulb temperature,\n        relative humidity, humidty ratio, specific air enthalpy) and calculates the remaining three. The inputs are\n        broadcasted to have the same shape, and the calculation is performed element-wise.\n\n        Args:\n            db: Dry bulb temperature (degC).\n            wb: Wet bulb temperature (degC).\n            rh: Relative humidity (%).\n            hr: Humidty ratio in g/kg.\n            en: Specific air enthalpy in kJ/kg.\n\n        Returns:\n            A tuple of five numpy arrays or float, each representing one of the psychrometric variables. The arrays have the same shape as the broadcasted input arrays.\n\n        Raises:\n            ValueError: If the number of provided variables is not exactly two.\n        \"\"\"\n        # Check args number (2 vars of 5)\n        provided_args_number = sum(\n            np.isfinite(arg).any() for arg in [db, wb, rh, hr, en]\n        )\n        if provided_args_number != 2:\n            raise ValueError(\"Input 2 Variables of 5.\")\n\n        db, wb, rh, hr, en = np.broadcast_arrays(db, wb, rh, hr, en)\n        original_shape = db.shape\n        db = db.flatten().astype(float)\n        wb = wb.flatten().astype(float)\n        rh = rh.flatten().astype(float)\n        hr = hr.flatten().astype(float)\n        en = en.flatten().astype(float)\n\n        # Build input parameters for HAPropsSI\n        inputs = []\n\n        if np.isfinite(db).any():\n            inputs.append((\"T\", db + 273.15))  # degC to K\n        if np.isfinite(wb).any():\n            inputs.append((\"B\", wb + 273.15))  # degC to K (wet bulb)\n        if np.isfinite(rh).any():\n            inputs.append((\"R\", rh / 100))  # % to fraction\n        if np.isfinite(hr).any():\n            inputs.append((\"W\", hr / 1000))  # g/kg to kg/kg\n        if np.isfinite(en).any():\n            inputs.append((\"H\", en * 1000))  # kJ/kg to J/kg\n\n        input1_name, input1_val = inputs[0]\n        input2_name, input2_val = inputs[1]\n\n        # Calculate all outputs using HAPropsSI\n        db_out = (\n            HAPropsSI(\n                \"T\",\n                input1_name,\n                input1_val,\n                input2_name,\n                input2_val,\n                \"P\",\n                self._pressure_pa,\n            )\n            - 273.15\n        )  # K to degC\n        wb_out = (\n            HAPropsSI(\n                \"B\",\n                input1_name,\n                input1_val,\n                input2_name,\n                input2_val,\n                \"P\",\n                self._pressure_pa,\n            )\n            - 273.15\n        )  # K to degC\n        rh_out = (\n            HAPropsSI(\n                \"R\",\n                input1_name,\n                input1_val,\n                input2_name,\n                input2_val,\n                \"P\",\n                self._pressure_pa,\n            )\n            * 100\n        )  # fraction to %\n        hr_out = (\n            HAPropsSI(\n                \"W\",\n                input1_name,\n                input1_val,\n                input2_name,\n                input2_val,\n                \"P\",\n                self._pressure_pa,\n            )\n            * 1000\n        )  # kg/kg to g/kg\n        en_out = (\n            HAPropsSI(\n                \"H\",\n                input1_name,\n                input1_val,\n                input2_name,\n                input2_val,\n                \"P\",\n                self._pressure_pa,\n            )\n            / 1000\n        )  # J/kg to kJ/kg\n\n        # Ensure outputs are numpy arrays\n        db_out = np.atleast_1d(db_out)\n        wb_out = np.atleast_1d(wb_out)\n        rh_out = np.atleast_1d(rh_out)\n        hr_out = np.atleast_1d(hr_out)\n        en_out = np.atleast_1d(en_out)\n\n        if db_out.size == 1:\n            return db_out[0], wb_out[0], rh_out[0], hr_out[0], en_out[0]\n        return (\n            db_out.reshape(original_shape),\n            wb_out.reshape(original_shape),\n            rh_out.reshape(original_shape),\n            hr_out.reshape(original_shape),\n            en_out.reshape(original_shape),\n        )\n\n    def get_en_from_db_hr(self, db: ArrayLike, hr: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate specific air enthalpy from dry bulb temperature and humidity ratio.\n\n        Args:\n            db: Dry bulb temperature (degC).\n            hr: Humidity ratio (g/kg).\n\n        Returns:\n            Specific air enthalpy (kJ/kg).\n        \"\"\"\n        db, hr = np.broadcast_arrays(db, hr)\n        original_shape = db.shape\n\n        result = (\n            HAPropsSI(\n                \"H\",\n                \"T\",\n                np.asarray(db).flatten() + 273.15,\n                \"W\",\n                np.asarray(hr).flatten() / 1000,\n                \"P\",\n                self._pressure_pa,\n            )\n            / 1000\n        )  # J/kg to kJ/kg\n\n        return np.atleast_1d(result).reshape(original_shape)\n\n    def get_en_from_db_rh(self, db: ArrayLike, rh: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate specific air enthalpy from dry bulb temperature and relative humidity.\n\n        Args:\n            db: Dry bulb temperature (degC).\n            rh: Relative humidity (%).\n        Returns:\n            Specific air enthalpy (kJ/kg).\n        \"\"\"\n        db, rh = np.broadcast_arrays(db, rh)\n        original_shape = db.shape\n\n        result = (\n            HAPropsSI(\n                \"H\",\n                \"T\",\n                np.asarray(db).flatten() + 273.15,\n                \"R\",\n                np.asarray(rh).flatten() / 100,\n                \"P\",\n                self._pressure_pa,\n            )\n            / 1000\n        )  # J/kg to kJ/kg\n\n        return np.atleast_1d(result).reshape(original_shape)\n\n    def get_hr_from_db_en(self, db: ArrayLike, en: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate humidity ratio from dry bulb temperature and specific air enthalpy.\n\n        Args:\n            db: Dry bulb temperature (degC).\n            en: Specific air enthalpy (kJ/kg).\n\n        Returns:\n            Humidity ratio (g/kg).\n        \"\"\"\n        db, en = np.broadcast_arrays(db, en)\n        original_shape = db.shape\n\n        result = (\n            HAPropsSI(\n                \"W\",\n                \"T\",\n                np.asarray(db).flatten() + 273.15,\n                \"H\",\n                np.asarray(en).flatten() * 1000,\n                \"P\",\n                self._pressure_pa,\n            )\n            * 1000\n        )  # kg/kg to g/kg\n\n        return np.atleast_1d(result).reshape(original_shape)\n\n    def get_hr_from_db_rh(self, db: ArrayLike, rh: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate humidity ratio from dry bulb temperature and relative humidity.\n\n        Args:\n            db: Dry bulb temperature (degC).\n            rh: Relative humidity (%).\n\n        Returns:\n            Humidity ratio (g/kg).\n        \"\"\"\n        db, rh = np.broadcast_arrays(db, rh)\n        original_shape = db.shape\n\n        result = (\n            HAPropsSI(\n                \"W\",\n                \"T\",\n                np.asarray(db).flatten() + 273.15,\n                \"R\",\n                np.asarray(rh).flatten() / 100,\n                \"P\",\n                self._pressure_pa,\n            )\n            * 1000\n        )  # kg/kg to g/kg\n\n        return np.atleast_1d(result).reshape(original_shape)\n\n    def get_rh_from_db_hr(self, db: ArrayLike, hr: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate relative humidity from dry bulb temperature and humidity ratio.\n\n        Args:\n            db: Dry bulb temperature (degC).\n            hr: Humidity ratio (g/kg).\n\n        Returns:\n            Relative humidity (%).\n        \"\"\"\n        db, hr = np.broadcast_arrays(db, hr)\n        original_shape = db.shape\n\n        result = (\n            HAPropsSI(\n                \"R\",\n                \"T\",\n                np.asarray(db).flatten() + 273.15,\n                \"W\",\n                np.asarray(hr).flatten() / 1000,\n                \"P\",\n                self._pressure_pa,\n            )\n            * 100\n        )  # fraction to %\n\n        return np.atleast_1d(result).reshape(original_shape)\n\n    def get_db_from_hr_en(self, hr: ArrayLike, en: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate dry bulb temperature from humidity ratio and specific air enthalpy.\n\n        Args:\n            hr: Humidity ratio (g/kg).\n            en: Specific air enthalpy (kJ/kg).\n\n        Returns:\n            Dry bulb temperature (degC).\n        \"\"\"\n        hr, en = np.broadcast_arrays(hr, en)\n        original_shape = hr.shape\n\n        result = (\n            HAPropsSI(\n                \"T\",\n                \"W\",\n                np.asarray(hr).flatten() / 1000,\n                \"H\",\n                np.asarray(en).flatten() * 1000,\n                \"P\",\n                self._pressure_pa,\n            )\n            - 273.15\n        )  # K to degC\n\n        return np.atleast_1d(result).reshape(original_shape)\n\n    def get_db_from_rh_en(self, rh: ArrayLike, en: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate dry bulb temperature from relative humidity and specific air enthalpy.\n\n        Args:\n            rh: Relative humidity (%).\n            en: Specific air enthalpy (kJ/kg).\n        Returns:\n            Dry bulb temperature (degC).\n        \"\"\"\n        rh, en = np.broadcast_arrays(rh, en)\n        original_shape = rh.shape\n\n        result = (\n            HAPropsSI(\n                \"T\",\n                \"R\",\n                np.asarray(rh).flatten() / 100,\n                \"H\",\n                np.asarray(en).flatten() * 1000,\n                \"P\",\n                self._pressure_pa,\n            )\n            - 273.15\n        )  # K to degC\n\n        return np.atleast_1d(result).reshape(original_shape)\n\n    def get_hr_from_db_wb(self, db: ArrayLike, wb: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate humidity ratio from dry bulb temperature and wet bulb temperature.\n\n        Args:\n            db: Dry bulb temperature (degC).\n            wb: Wet bulb temperature (degC).\n\n        Returns:\n            Humidity ratio (g/kg).\n        \"\"\"\n        db, wb = np.broadcast_arrays(db, wb)\n        original_shape = db.shape\n\n        result = (\n            HAPropsSI(\n                \"W\",\n                \"T\",\n                np.asarray(db).flatten() + 273.15,\n                \"B\",\n                np.asarray(wb).flatten() + 273.15,\n                \"P\",\n                self._pressure_pa,\n            )\n            * 1000\n        )  # kg/kg to g/kg\n\n        return np.atleast_1d(result).reshape(original_shape)\n\n    def get_hr_from_rh_en(self, rh: ArrayLike, en: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate humidity ratio from relative humidity and specific air enthalpy.\n\n        Args:\n            rh: Relative humidity (%).\n            en: Specific air enthalpy (kJ/kg).\n        Returns:\n            Humidity ratio (g/kg).\n        \"\"\"\n        rh, en = np.broadcast_arrays(rh, en)\n        original_shape = rh.shape\n\n        result = (\n            HAPropsSI(\n                \"W\",\n                \"R\",\n                np.asarray(rh).flatten() / 100,\n                \"H\",\n                np.asarray(en).flatten() * 1000,\n                \"P\",\n                self._pressure_pa,\n            )\n            * 1000\n        )  # kg/kg to g/kg\n\n        return np.atleast_1d(result).reshape(original_shape)\n\n    def get_hr_from_pw(self, pw: ArrayLike) -&gt; NDArray[np.float64]:\n        \"\"\"\n        Calculate humidity ratio from partial pressure of water vapor.\n\n        Args:\n            pw: Partial pressure of water vapor (kPa).\n\n        Returns:\n            Humidity ratio (g/kg).\n        \"\"\"\n        pw = np.asarray(pw)\n        original_shape = pw.shape\n        is_scalar = pw.ndim == 0\n\n        result = (\n            HAPropsSI(\n                \"W\",\n                \"P_w\",\n                np.atleast_1d(pw).flatten() * 1000,  # kPa to Pa\n                \"T\",\n                293.15,  # Reference temperature (20\u00b0C)\n                \"P\",\n                self._pressure_pa,\n            )\n            * 1000\n        )  # kg/kg to g/kg\n\n        if is_scalar:\n            return np.atleast_1d(result)[0]\n        return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.__init__","title":"<code>__init__(pressure=101.325)</code>","text":"<p>Initialize the Psychrometrics class.</p> <p>Parameters:</p> Name Type Description Default <code>pressure</code> <code>float</code> <p>Atmospheric pressure (kPa)</p> <code>101.325</code> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def __init__(self, pressure: float = 101.325):\n    \"\"\"Initialize the Psychrometrics class.\n\n    Args:\n        pressure: Atmospheric pressure (kPa)\n    \"\"\"\n    self.pressure = pressure\n    self._pressure_pa = pressure * 1000  # Convert to Pa for CoolProp\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_all","title":"<code>get_all(db=np.nan, wb=np.nan, rh=np.nan, hr=np.nan, en=np.nan)</code>","text":"<p>Calculate all psychrometric variables given any two of them.</p> <p>This function takes in any two of the five psychrometric variables (dry bulb temperature, wet bulb temperature, relative humidity, humidty ratio, specific air enthalpy) and calculates the remaining three. The inputs are broadcasted to have the same shape, and the calculation is performed element-wise.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>ArrayLike</code> <p>Dry bulb temperature (degC).</p> <code>nan</code> <code>wb</code> <code>ArrayLike</code> <p>Wet bulb temperature (degC).</p> <code>nan</code> <code>rh</code> <code>ArrayLike</code> <p>Relative humidity (%).</p> <code>nan</code> <code>hr</code> <code>ArrayLike</code> <p>Humidty ratio in g/kg.</p> <code>nan</code> <code>en</code> <code>ArrayLike</code> <p>Specific air enthalpy in kJ/kg.</p> <code>nan</code> <p>Returns:</p> Type Description <code>tuple[Union[NDArray[float64], float], Union[NDArray[float64], float], Union[NDArray[float64], float], Union[NDArray[float64], float], Union[NDArray[float64], float]]</code> <p>A tuple of five numpy arrays or float, each representing one of the psychrometric variables. The arrays have the same shape as the broadcasted input arrays.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If the number of provided variables is not exactly two.</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_all(\n    self,\n    db: ArrayLike = np.nan,\n    wb: ArrayLike = np.nan,\n    rh: ArrayLike = np.nan,\n    hr: ArrayLike = np.nan,\n    en: ArrayLike = np.nan,\n) -&gt; tuple[\n    Union[NDArray[np.float64], float],\n    Union[NDArray[np.float64], float],\n    Union[NDArray[np.float64], float],\n    Union[NDArray[np.float64], float],\n    Union[NDArray[np.float64], float],\n]:\n    \"\"\"\n    Calculate all psychrometric variables given any two of them.\n\n    This function takes in any two of the five psychrometric variables (dry bulb temperature, wet bulb temperature,\n    relative humidity, humidty ratio, specific air enthalpy) and calculates the remaining three. The inputs are\n    broadcasted to have the same shape, and the calculation is performed element-wise.\n\n    Args:\n        db: Dry bulb temperature (degC).\n        wb: Wet bulb temperature (degC).\n        rh: Relative humidity (%).\n        hr: Humidty ratio in g/kg.\n        en: Specific air enthalpy in kJ/kg.\n\n    Returns:\n        A tuple of five numpy arrays or float, each representing one of the psychrometric variables. The arrays have the same shape as the broadcasted input arrays.\n\n    Raises:\n        ValueError: If the number of provided variables is not exactly two.\n    \"\"\"\n    # Check args number (2 vars of 5)\n    provided_args_number = sum(\n        np.isfinite(arg).any() for arg in [db, wb, rh, hr, en]\n    )\n    if provided_args_number != 2:\n        raise ValueError(\"Input 2 Variables of 5.\")\n\n    db, wb, rh, hr, en = np.broadcast_arrays(db, wb, rh, hr, en)\n    original_shape = db.shape\n    db = db.flatten().astype(float)\n    wb = wb.flatten().astype(float)\n    rh = rh.flatten().astype(float)\n    hr = hr.flatten().astype(float)\n    en = en.flatten().astype(float)\n\n    # Build input parameters for HAPropsSI\n    inputs = []\n\n    if np.isfinite(db).any():\n        inputs.append((\"T\", db + 273.15))  # degC to K\n    if np.isfinite(wb).any():\n        inputs.append((\"B\", wb + 273.15))  # degC to K (wet bulb)\n    if np.isfinite(rh).any():\n        inputs.append((\"R\", rh / 100))  # % to fraction\n    if np.isfinite(hr).any():\n        inputs.append((\"W\", hr / 1000))  # g/kg to kg/kg\n    if np.isfinite(en).any():\n        inputs.append((\"H\", en * 1000))  # kJ/kg to J/kg\n\n    input1_name, input1_val = inputs[0]\n    input2_name, input2_val = inputs[1]\n\n    # Calculate all outputs using HAPropsSI\n    db_out = (\n        HAPropsSI(\n            \"T\",\n            input1_name,\n            input1_val,\n            input2_name,\n            input2_val,\n            \"P\",\n            self._pressure_pa,\n        )\n        - 273.15\n    )  # K to degC\n    wb_out = (\n        HAPropsSI(\n            \"B\",\n            input1_name,\n            input1_val,\n            input2_name,\n            input2_val,\n            \"P\",\n            self._pressure_pa,\n        )\n        - 273.15\n    )  # K to degC\n    rh_out = (\n        HAPropsSI(\n            \"R\",\n            input1_name,\n            input1_val,\n            input2_name,\n            input2_val,\n            \"P\",\n            self._pressure_pa,\n        )\n        * 100\n    )  # fraction to %\n    hr_out = (\n        HAPropsSI(\n            \"W\",\n            input1_name,\n            input1_val,\n            input2_name,\n            input2_val,\n            \"P\",\n            self._pressure_pa,\n        )\n        * 1000\n    )  # kg/kg to g/kg\n    en_out = (\n        HAPropsSI(\n            \"H\",\n            input1_name,\n            input1_val,\n            input2_name,\n            input2_val,\n            \"P\",\n            self._pressure_pa,\n        )\n        / 1000\n    )  # J/kg to kJ/kg\n\n    # Ensure outputs are numpy arrays\n    db_out = np.atleast_1d(db_out)\n    wb_out = np.atleast_1d(wb_out)\n    rh_out = np.atleast_1d(rh_out)\n    hr_out = np.atleast_1d(hr_out)\n    en_out = np.atleast_1d(en_out)\n\n    if db_out.size == 1:\n        return db_out[0], wb_out[0], rh_out[0], hr_out[0], en_out[0]\n    return (\n        db_out.reshape(original_shape),\n        wb_out.reshape(original_shape),\n        rh_out.reshape(original_shape),\n        hr_out.reshape(original_shape),\n        en_out.reshape(original_shape),\n    )\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_db_from_hr_en","title":"<code>get_db_from_hr_en(hr, en)</code>","text":"<p>Calculate dry bulb temperature from humidity ratio and specific air enthalpy.</p> <p>Parameters:</p> Name Type Description Default <code>hr</code> <code>ArrayLike</code> <p>Humidity ratio (g/kg).</p> required <code>en</code> <code>ArrayLike</code> <p>Specific air enthalpy (kJ/kg).</p> required <p>Returns:</p> Type Description <code>NDArray[float64]</code> <p>Dry bulb temperature (degC).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_db_from_hr_en(self, hr: ArrayLike, en: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate dry bulb temperature from humidity ratio and specific air enthalpy.\n\n    Args:\n        hr: Humidity ratio (g/kg).\n        en: Specific air enthalpy (kJ/kg).\n\n    Returns:\n        Dry bulb temperature (degC).\n    \"\"\"\n    hr, en = np.broadcast_arrays(hr, en)\n    original_shape = hr.shape\n\n    result = (\n        HAPropsSI(\n            \"T\",\n            \"W\",\n            np.asarray(hr).flatten() / 1000,\n            \"H\",\n            np.asarray(en).flatten() * 1000,\n            \"P\",\n            self._pressure_pa,\n        )\n        - 273.15\n    )  # K to degC\n\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_db_from_rh_en","title":"<code>get_db_from_rh_en(rh, en)</code>","text":"<p>Calculate dry bulb temperature from relative humidity and specific air enthalpy.</p> <p>Parameters:</p> Name Type Description Default <code>rh</code> <code>ArrayLike</code> <p>Relative humidity (%).</p> required <code>en</code> <code>ArrayLike</code> <p>Specific air enthalpy (kJ/kg).</p> required <p>Returns:     Dry bulb temperature (degC).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_db_from_rh_en(self, rh: ArrayLike, en: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate dry bulb temperature from relative humidity and specific air enthalpy.\n\n    Args:\n        rh: Relative humidity (%).\n        en: Specific air enthalpy (kJ/kg).\n    Returns:\n        Dry bulb temperature (degC).\n    \"\"\"\n    rh, en = np.broadcast_arrays(rh, en)\n    original_shape = rh.shape\n\n    result = (\n        HAPropsSI(\n            \"T\",\n            \"R\",\n            np.asarray(rh).flatten() / 100,\n            \"H\",\n            np.asarray(en).flatten() * 1000,\n            \"P\",\n            self._pressure_pa,\n        )\n        - 273.15\n    )  # K to degC\n\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_en_from_db_hr","title":"<code>get_en_from_db_hr(db, hr)</code>","text":"<p>Calculate specific air enthalpy from dry bulb temperature and humidity ratio.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>ArrayLike</code> <p>Dry bulb temperature (degC).</p> required <code>hr</code> <code>ArrayLike</code> <p>Humidity ratio (g/kg).</p> required <p>Returns:</p> Type Description <code>NDArray[float64]</code> <p>Specific air enthalpy (kJ/kg).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_en_from_db_hr(self, db: ArrayLike, hr: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate specific air enthalpy from dry bulb temperature and humidity ratio.\n\n    Args:\n        db: Dry bulb temperature (degC).\n        hr: Humidity ratio (g/kg).\n\n    Returns:\n        Specific air enthalpy (kJ/kg).\n    \"\"\"\n    db, hr = np.broadcast_arrays(db, hr)\n    original_shape = db.shape\n\n    result = (\n        HAPropsSI(\n            \"H\",\n            \"T\",\n            np.asarray(db).flatten() + 273.15,\n            \"W\",\n            np.asarray(hr).flatten() / 1000,\n            \"P\",\n            self._pressure_pa,\n        )\n        / 1000\n    )  # J/kg to kJ/kg\n\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_en_from_db_rh","title":"<code>get_en_from_db_rh(db, rh)</code>","text":"<p>Calculate specific air enthalpy from dry bulb temperature and relative humidity.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>ArrayLike</code> <p>Dry bulb temperature (degC).</p> required <code>rh</code> <code>ArrayLike</code> <p>Relative humidity (%).</p> required <p>Returns:     Specific air enthalpy (kJ/kg).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_en_from_db_rh(self, db: ArrayLike, rh: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate specific air enthalpy from dry bulb temperature and relative humidity.\n\n    Args:\n        db: Dry bulb temperature (degC).\n        rh: Relative humidity (%).\n    Returns:\n        Specific air enthalpy (kJ/kg).\n    \"\"\"\n    db, rh = np.broadcast_arrays(db, rh)\n    original_shape = db.shape\n\n    result = (\n        HAPropsSI(\n            \"H\",\n            \"T\",\n            np.asarray(db).flatten() + 273.15,\n            \"R\",\n            np.asarray(rh).flatten() / 100,\n            \"P\",\n            self._pressure_pa,\n        )\n        / 1000\n    )  # J/kg to kJ/kg\n\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_hr_from_db_en","title":"<code>get_hr_from_db_en(db, en)</code>","text":"<p>Calculate humidity ratio from dry bulb temperature and specific air enthalpy.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>ArrayLike</code> <p>Dry bulb temperature (degC).</p> required <code>en</code> <code>ArrayLike</code> <p>Specific air enthalpy (kJ/kg).</p> required <p>Returns:</p> Type Description <code>NDArray[float64]</code> <p>Humidity ratio (g/kg).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_hr_from_db_en(self, db: ArrayLike, en: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate humidity ratio from dry bulb temperature and specific air enthalpy.\n\n    Args:\n        db: Dry bulb temperature (degC).\n        en: Specific air enthalpy (kJ/kg).\n\n    Returns:\n        Humidity ratio (g/kg).\n    \"\"\"\n    db, en = np.broadcast_arrays(db, en)\n    original_shape = db.shape\n\n    result = (\n        HAPropsSI(\n            \"W\",\n            \"T\",\n            np.asarray(db).flatten() + 273.15,\n            \"H\",\n            np.asarray(en).flatten() * 1000,\n            \"P\",\n            self._pressure_pa,\n        )\n        * 1000\n    )  # kg/kg to g/kg\n\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_hr_from_db_rh","title":"<code>get_hr_from_db_rh(db, rh)</code>","text":"<p>Calculate humidity ratio from dry bulb temperature and relative humidity.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>ArrayLike</code> <p>Dry bulb temperature (degC).</p> required <code>rh</code> <code>ArrayLike</code> <p>Relative humidity (%).</p> required <p>Returns:</p> Type Description <code>NDArray[float64]</code> <p>Humidity ratio (g/kg).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_hr_from_db_rh(self, db: ArrayLike, rh: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate humidity ratio from dry bulb temperature and relative humidity.\n\n    Args:\n        db: Dry bulb temperature (degC).\n        rh: Relative humidity (%).\n\n    Returns:\n        Humidity ratio (g/kg).\n    \"\"\"\n    db, rh = np.broadcast_arrays(db, rh)\n    original_shape = db.shape\n\n    result = (\n        HAPropsSI(\n            \"W\",\n            \"T\",\n            np.asarray(db).flatten() + 273.15,\n            \"R\",\n            np.asarray(rh).flatten() / 100,\n            \"P\",\n            self._pressure_pa,\n        )\n        * 1000\n    )  # kg/kg to g/kg\n\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_hr_from_db_wb","title":"<code>get_hr_from_db_wb(db, wb)</code>","text":"<p>Calculate humidity ratio from dry bulb temperature and wet bulb temperature.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>ArrayLike</code> <p>Dry bulb temperature (degC).</p> required <code>wb</code> <code>ArrayLike</code> <p>Wet bulb temperature (degC).</p> required <p>Returns:</p> Type Description <code>NDArray[float64]</code> <p>Humidity ratio (g/kg).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_hr_from_db_wb(self, db: ArrayLike, wb: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate humidity ratio from dry bulb temperature and wet bulb temperature.\n\n    Args:\n        db: Dry bulb temperature (degC).\n        wb: Wet bulb temperature (degC).\n\n    Returns:\n        Humidity ratio (g/kg).\n    \"\"\"\n    db, wb = np.broadcast_arrays(db, wb)\n    original_shape = db.shape\n\n    result = (\n        HAPropsSI(\n            \"W\",\n            \"T\",\n            np.asarray(db).flatten() + 273.15,\n            \"B\",\n            np.asarray(wb).flatten() + 273.15,\n            \"P\",\n            self._pressure_pa,\n        )\n        * 1000\n    )  # kg/kg to g/kg\n\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_hr_from_pw","title":"<code>get_hr_from_pw(pw)</code>","text":"<p>Calculate humidity ratio from partial pressure of water vapor.</p> <p>Parameters:</p> Name Type Description Default <code>pw</code> <code>ArrayLike</code> <p>Partial pressure of water vapor (kPa).</p> required <p>Returns:</p> Type Description <code>NDArray[float64]</code> <p>Humidity ratio (g/kg).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_hr_from_pw(self, pw: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate humidity ratio from partial pressure of water vapor.\n\n    Args:\n        pw: Partial pressure of water vapor (kPa).\n\n    Returns:\n        Humidity ratio (g/kg).\n    \"\"\"\n    pw = np.asarray(pw)\n    original_shape = pw.shape\n    is_scalar = pw.ndim == 0\n\n    result = (\n        HAPropsSI(\n            \"W\",\n            \"P_w\",\n            np.atleast_1d(pw).flatten() * 1000,  # kPa to Pa\n            \"T\",\n            293.15,  # Reference temperature (20\u00b0C)\n            \"P\",\n            self._pressure_pa,\n        )\n        * 1000\n    )  # kg/kg to g/kg\n\n    if is_scalar:\n        return np.atleast_1d(result)[0]\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_hr_from_rh_en","title":"<code>get_hr_from_rh_en(rh, en)</code>","text":"<p>Calculate humidity ratio from relative humidity and specific air enthalpy.</p> <p>Parameters:</p> Name Type Description Default <code>rh</code> <code>ArrayLike</code> <p>Relative humidity (%).</p> required <code>en</code> <code>ArrayLike</code> <p>Specific air enthalpy (kJ/kg).</p> required <p>Returns:     Humidity ratio (g/kg).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_hr_from_rh_en(self, rh: ArrayLike, en: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate humidity ratio from relative humidity and specific air enthalpy.\n\n    Args:\n        rh: Relative humidity (%).\n        en: Specific air enthalpy (kJ/kg).\n    Returns:\n        Humidity ratio (g/kg).\n    \"\"\"\n    rh, en = np.broadcast_arrays(rh, en)\n    original_shape = rh.shape\n\n    result = (\n        HAPropsSI(\n            \"W\",\n            \"R\",\n            np.asarray(rh).flatten() / 100,\n            \"H\",\n            np.asarray(en).flatten() * 1000,\n            \"P\",\n            self._pressure_pa,\n        )\n        * 1000\n    )  # kg/kg to g/kg\n\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"},{"location":"api/psychrometrics/#shimeri.psychrometrics.PsychrometricCalculator.get_rh_from_db_hr","title":"<code>get_rh_from_db_hr(db, hr)</code>","text":"<p>Calculate relative humidity from dry bulb temperature and humidity ratio.</p> <p>Parameters:</p> Name Type Description Default <code>db</code> <code>ArrayLike</code> <p>Dry bulb temperature (degC).</p> required <code>hr</code> <code>ArrayLike</code> <p>Humidity ratio (g/kg).</p> required <p>Returns:</p> Type Description <code>NDArray[float64]</code> <p>Relative humidity (%).</p> Source code in <code>shimeri/psychrometrics.py</code> <pre><code>def get_rh_from_db_hr(self, db: ArrayLike, hr: ArrayLike) -&gt; NDArray[np.float64]:\n    \"\"\"\n    Calculate relative humidity from dry bulb temperature and humidity ratio.\n\n    Args:\n        db: Dry bulb temperature (degC).\n        hr: Humidity ratio (g/kg).\n\n    Returns:\n        Relative humidity (%).\n    \"\"\"\n    db, hr = np.broadcast_arrays(db, hr)\n    original_shape = db.shape\n\n    result = (\n        HAPropsSI(\n            \"R\",\n            \"T\",\n            np.asarray(db).flatten() + 273.15,\n            \"W\",\n            np.asarray(hr).flatten() / 1000,\n            \"P\",\n            self._pressure_pa,\n        )\n        * 100\n    )  # fraction to %\n\n    return np.atleast_1d(result).reshape(original_shape)\n</code></pre>"}]}